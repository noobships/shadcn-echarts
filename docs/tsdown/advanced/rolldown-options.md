# Customizing Rolldown Options - The Elegant Bundler for Libraries

Are you an LLM? You can read better optimized documentation at /advanced/rolldown-options.md for this page in Markdown format

# Customizing Rolldown Options [​](#customizing-rolldown-options)

`tsdown` uses [Rolldown](https://rolldown.rs) as its core bundling engine. This allows you to easily pass or override options directly to Rolldown, giving you fine-grained control over the bundling process.

For a full list of available Rolldown options, refer to the [Rolldown Config Options](https://rolldown.rs/options/input) documentation.

WARNING

You should be familiar with the behavior of the Rolldown options you are overriding and ensure you have read the Rolldown documentation.

## Overriding `inputOptions` [​](#overriding-inputoptions)

You can override the `inputOptions` generated by `tsdown` to customize how Rolldown processes your input files. There are two ways to do this:

### Using an Object [​](#using-an-object)

You can directly pass an object to override specific `inputOptions`:

tsdown.config.ts

ts

```
import { defineConfig } from 'tsdown'

export default defineConfig({
  inputOptions: {
    cwd: './custom-directory',
  },
})
```

In this example, the `cwd` (current working directory) option is set to `./custom-directory`.

### Using a Function [​](#using-a-function)

Alternatively, you can use a function to dynamically modify the `inputOptions`. The function receives the generated `inputOptions` and the current `format` as arguments:

tsdown.config.ts

ts

```
import { defineConfig } from 'tsdown'

export default defineConfig({
  inputOptions(inputOptions, format) {
    inputOptions.cwd = './custom-directory'
    return inputOptions
  },
})
```

This approach is useful when you need to customize options based on the output format or other dynamic conditions.

## Overriding `outputOptions` [​](#overriding-outputoptions)

The `outputOptions` can be customized in the same way as `inputOptions`. For example:

### Using an Object [​](#using-an-object-1)

You can directly pass an object to override specific `outputOptions`:

tsdown.config.ts

ts

```
import { defineConfig } from 'tsdown'

export default defineConfig({
  outputOptions: {
    legalComments: 'inline',
  },
})
```

In this example, the `legalComments: 'inline'` option ensures that legal comments (e.g., license headers) are preserved in the output files.

### Using a Function [​](#using-a-function-1)

You can also use a function to dynamically modify the `outputOptions`. The function receives the generated `outputOptions` and the current `format` as arguments:

tsdown.config.ts

ts

```
import { defineConfig } from 'tsdown'

export default defineConfig({
  outputOptions(outputOptions, format) {
    if (format === 'esm') {
      outputOptions.legalComments = 'inline'
    }
    return outputOptions
  },
})
```

This ensures that legal comments are preserved only for the `esm` format.

## When to Use Custom Options [​](#when-to-use-custom-options)

While `tsdown` exposes many common options directly, there may be cases where certain Rolldown options are not exposed. In such cases, you can use the `inputOptions` and `outputOptions` overrides to directly set these options in Rolldown.

TIP

Using `inputOptions` and `outputOptions` gives you full access to Rolldown's powerful configuration system, allowing you to customize your build process beyond what `tsdown` exposes directly.